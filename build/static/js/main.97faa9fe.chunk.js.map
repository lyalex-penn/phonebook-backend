{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","persons","filterStr","handleDeletion","personsToShow","filter","person","name","toLowerCase","includes","trim","console","log","map","number","onClick","PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","handleChange","Notification","message","undefined","text","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","setFilterStr","setNewName","setNewNumber","setMessage","resetNotification","timeout","setTimeout","useEffect","personService","initialPersons","event","target","preventDefault","some","window","confirm","find","p","changedPerson","returnedPerson","catch","error","updatePerson","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.97faa9fe.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Persons = ({persons, filterStr, handleDeletion}) => {\r\n  const personsToShow = persons.filter(person =>\r\n      person.name.toLowerCase().includes(filterStr.trim().toLowerCase()))\r\n\r\n  console.log('persons that contain', filterStr.trim(), 'are', personsToShow)\r\n\r\n  return (\r\n      <div>\r\n        {personsToShow.map(person =>\r\n            <div key={person.name}>\r\n              {person.name} {person.number}\r\n              <button onClick={() => handleDeletion(person)}>delete</button>\r\n            </div>)}\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst PersonForm = props => (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name:\r\n        <input\r\n            value={props.newName}\r\n            onChange={props.handleNameChange}/>\r\n      </div>\r\n      <div>number:\r\n        <input\r\n            value={props.newNumber}\r\n            onChange={props.handleNumberChange}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Filter = ({value, handleChange}) => {\r\n  console.log('filter str is', value)\r\n  return (\r\n      <form>\r\n        <div>\r\n          filter shown with\r\n          <input\r\n              value={value}\r\n              onChange={handleChange}/>\r\n        </div>\r\n      </form>\r\n  );\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n  if (message.text === undefined) {\r\n    return null\r\n  }\r\n\r\n  const style = {\r\n    color: message.color,\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  return (\r\n      <div style={style}\r\n           className={'notification'}>\r\n        {message.text}\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Notification;","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, del}","import React, {useEffect, useState} from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from \"./components/Notification\";\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [filterStr, setFilterStr] = useState('')\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [message, setMessage] = useState({\r\n    text: undefined,\r\n    color: ''\r\n  })\r\n\r\n  const resetNotification = (timeout) => {\r\n    setTimeout(() => {\r\n      setMessage({...message, text: undefined})\r\n    }, timeout)\r\n  }\r\n\r\n  useEffect(() => {\r\n    personService.getAll()\r\n    .then(initialPersons => setPersons(initialPersons))\r\n  }, [])\r\n\r\n  const updatePerson = (name) => {\r\n    const person = persons.find(p => p.name === name)\r\n    const changedPerson = {...person, number: newNumber}\r\n\r\n    personService.update(person.id, changedPerson)\r\n    .then(returnedPerson => {\r\n      console.log('updated', returnedPerson)\r\n      setPersons(persons.map(p => p.name !== newName ? p : returnedPerson))\r\n      setNewName('')\r\n      setNewNumber('')\r\n      setMessage({\r\n        text: `Updated ${name} with phone number ${newNumber}`,\r\n        color: 'green'\r\n      })\r\n      resetNotification(5000)\r\n    })\r\n    .catch(error => {\r\n      setMessage({\r\n            text: `Information of ${name} has already been removed from the server`,\r\n            color: 'red'\r\n          }\r\n      )\r\n      resetNotification(5000)\r\n      setPersons(persons.filter(p => p.name !== name))\r\n    })\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    if (persons.some(person => person.name === newName)) {\r\n      if (window.confirm(\r\n          `${newName} is already added to the phonebook, replace the old number with a new one?`)) {\r\n        updatePerson(newName)\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n\r\n      personService.create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setMessage({\r\n          text: `Added ${returnedPerson.name}`,\r\n          color: 'green'\r\n        })\r\n        resetNotification(5000)\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setFilterStr(event.target.value)\r\n  }\r\n\r\n  const handleDeletion = (personToDelete) => {\r\n    if (window.confirm(`Delete ${personToDelete.name} ?`)) {\r\n      personService.del(personToDelete.id)\r\n      .then(() => {\r\n        console.log(`deleted ${personToDelete.name}`)\r\n        setPersons(persons.filter(person => person.id !== personToDelete.id))\r\n        setMessage({\r\n          text: `Deleted ${personToDelete.name}`,\r\n          color: 'green'\r\n        })\r\n        resetNotification(5000)\r\n      })\r\n      .catch(error => {\r\n            setMessage({\r\n              text: `Information of ${personToDelete.name} has already been removed from the server`,\r\n              color: 'red'\r\n            })\r\n            resetNotification(5000)\r\n            setPersons(persons.filter(p => p.id !== personToDelete.id))\r\n          }\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n      <div>\r\n        <h2>Phonebook</h2>\r\n        <Notification message={message}/>\r\n        <Filter value={filterStr} handleChange={handleFilterChange}/>\r\n        <h2>add a new</h2>\r\n        <PersonForm\r\n            addPerson={addPerson}\r\n            newName={newName}\r\n            handleNameChange={handleNameChange}\r\n            newNumber={newNumber}\r\n            handleNumberChange={handleNumberChange}/>\r\n        <h2>Numbers</h2>\r\n        <Persons persons={persons}\r\n                 filterStr={filterStr}\r\n                 handleDeletion={handleDeletion}/>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\n\nReactDOM.render(\n    <App/>,\n    document.getElementById('root')\n)"],"sourceRoot":""}